Feature: Offer as student
  In order to a student is offered for a proposal
  As a student
  I want to offer as student to this proposal

  Scenario: Student is offered for an existing proposal created by a teacher
    Given there is an existing proposal with title "Really interesting project"
    And there is an existing submission of the proposal titled "Really interesting project"
    And there is an existing publication of the proposal titled "Really interesting project"
    When I offer as student to a publication proposal with title "Really interesting project"
    Then I have created an offer student of the publication proposal of the submission of the proposal titled "Really interesting project"


  Scenario: Student is offered for an existing proposal created by a teacher
    Given there is an existing proposal with title "<string>"
    And there is an existing submission of the proposal titled "<string>"
    And there is an existing publication of the proposal titled "<string>"
    And Student "other student" has offered for proposal with title "<string>"
    When I offer as student to a publication proposal with title "Really interesting project"
    Then I have created an other offer student of the publication proposal of the submission of the proposal titled "Really interesting project"


  Scenario: Student is offered for an removed proposal created by a teacher
    Given there isn't an proposal with title "<string>"
    And there is an existing submission of the proposal titled "<string>"
    And there is an existing publication of the proposal titled "<string>"
    And proposal with title "<string>" has been deleted
    When I offer as student to a publication proposal with title "<string>"
    Then I get error 500 with message "Invalid proposal status 'REMOVED', should be 'PUBLISHED'"


  Scenario: Student is offered for an assigned proposal created by a teacher
    Given there is an existing proposal with title "<string>"
    And there are an previous assignment of this proposal
    And there is an existing submission of the proposal titled "<string>"
    And there is an existing publication of the proposal titled "<string>"
    And proposal with title "<string>" has been deleted
    When I offer as student to a publication proposal with title "<string>"
    Then I get error 500 with message "Invalid proposal status 'ASSIGNED', should be 'PUBLISHED'"